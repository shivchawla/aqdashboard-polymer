
<link rel='import' href='../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html'>

<dom-module id='aq-community-home-searchbar'>
	<style  include="iron-flex iron-flex-alignment iron-positioning">
	</style>
  
	<style>

		#search {
		  height: 46px;
		  line-height: 48px;
		  --max-width:70%;
		}
	
		#searchbox {
		  height: 46px;
		  -webkit-appearance: none;
		  line-height: 46px;
		  border: 0;
		  margin: 0;
		  padding-left: 10px;
		  border: 1px solid #e5e5e5;
		  @apply(--paper-font-body1);
		  --font-size: 16px;
		  font-size:100%;
		  margin-left:-0px;
		  --border-left:none !important;
		  margin-top:1px;
		  max-width: 520px;
		  min-width: 400px;
		  margin-left: -5px;
		  padding-right: 10px;
		}

		#searchbox:focus{
		  outline:none;
		  background-color: white;
		}

		paper-button {
	      display: block;
	      margin:0px;
	      height:46px;
	      background: white;
	      border: 1px solid #e5e5e5;
	      border-radius: 0px;
	      width:150px;
	    }

	    paper-menu {
	    	cursor: pointer;
	     	width: 150px;
	    }

	    #button {
	    	height:0;
	    	margin:0;
	    	padding:0px;
	    }

	    paper-button #content{
	    	position:absolute;
	    	top:-2px;
	    }

	 	iron-icon {
	    	position:absolute;
	    	top: 10px;
	    	left:100%;
	    }
		
		#category {
			width: 50px
		}

		#category_dd {
			---button-width:170px;
			--dropdown-width:240px;
			--dropdown-border: 1px solid #e5e5e5;
			--dropdown-height:46px;
			--dropdown-font-size:15px;
			--dropdown-paper-menu-font-size:16px;
			--dropdown-background-color:#99ced4;
		}

	</style>
	
	<template>
      		<div id="search" class="wrap flex layout horizontal">
	    		<aq-dropdown vertical-offset=56 class="self-center" id='category_dd' options="[[categories]]"></aq-dropdown>
    		

	  			<input id="searchbox" placeholder="Search posts" class="flex"
	         	value="{{searchValue::input}}" type="search" on-search="onSearch">	
			</div>
	</template>
	<script >
				
		Polymer({
			is: 'aq-community-home-searchbar',

			properties: {
				selectedCategory : {
						type: String,
						value: 'Everywhere',
				},

				searchValue: {
					type: String,
					value:"",
				},

				categories:{
					type:Array,
					value: [{value:"Share your idea",index:0},{value:"Questions and answers",index:1},{value:"News and announcements",index:2}],

				},
			},

			ready: function() {
				//this.categories = categories;
			},

			onSearch: function(e) {
				
                this.fire('search-action', {text: this.searchValue, category: this.$.category_dd.getSelectedValue()});
           
			},

		});
		

	</script>
</dom-module>


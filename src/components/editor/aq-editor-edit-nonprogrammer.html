
<link rel="import" href="../../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../../bower_components/paper-dropdown/paper-dropdown.html">

<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/iron-pages/iron-pages.html">

<link rel="import" href="../../../bower_components/paper-datatable/paper-datatable.html">
<link rel="import" href="../../../bower_components/paper-datatable/paper-datatable-card.html">


<link rel='import' href ="./aq-editor-toolbar.html">
<link rel='import' href ="./aq-editor-console-window.html">
<link rel='import' href ="./aq-editor-sidebar-run.html">
<link rel='import' href ="./aq-editor-edit-sidebar-universe.html">
<link rel='import' href="./aq-editor-edit-nonprogrammer-screener.html">
<link rel='import' href="./aq-editor-edit-nonprogrammer-optimizer.html">
<link rel='import' href="./aq-editor-edit-nonprogrammer-indicator.html">

<dom-module id='aq-editor-edit-nonprogrammer'>
	<style>

		paper-toolbar {
      		--paper-toolbar-height:50px;
			--paper-toolbar-background:#B2DFDB;--#e0f2f1;
		    --paper-toolbar-color:black;
    	}

    	#leftpanel {
    		width:50%;
    		margin-left:10px;
    		border-right: 1px solid #d3d3d3;
    		height:100%;
    		height:;
    	}

    	#container {
    		margin-top:0px;
    		margin-right: 0px;
    		margin-left:0px;
    	}

    	#runCanvas {
    		width:100%;
    		height:100%;
    	}

    	.run-content {
    		height:50px;
    		margin:20px;
    		text-align: center;
    		width:150px;
    		margin-left:auto;
    		margin-right:auto;
    	}

    	.run-content span{
    		vertical-align: center;
    		margin-top:50px;
    		margin-bottom:50px;

    	}

    	.run-content :hover {
    		cursor: pointer;
    		color:teal;
    	}

    	paper-tabs :hover{
    		font-weight: bold;
    		font-size:110%;
    	}

    	paper-tabs {
    		--paper-tabs-selection-bar-color: teal;
    		height:25px;
    	}

	</style>

	<template>
		<paper-drawer-panel drawer-width='370px' responsive-width='730px' class="headerpanel" id="drawerpanel" right-drawer force-narrow="{{computeForceNarrow(showSideBar, selectedSideBar)}}"">
         	
         	<paper-header-panel id='container' main mode="seamed">
	         	<paper-toolbar>
	         		<paper-tabs noink selected="{{selectedSideBar}}">
	         			<paper-tab>Universe</paper-tab>
	         			<paper-tab>Indicators</paper-tab>
	         			<paper-tab>Optimizer</paper-tab>
	         			<paper-tab>Run</paper-tab>
	         		</paper-tabs>
	         		<div class="flex"></div>
	         		<template is='dom-if' if="{{isSelectedBarUniverse(selectedSideBar)}}">
	         			<paper-button paper-drawer-toggle>Add Screener</paper-button>
	         		</template>
	         	</paper-toolbar>

	            <!--paper-header-panel id='leftpanel' mode="seamed"-->
		            <iron-pages selected="{{selectedSideBar}}">	

		            	<aq-editor-edit-nonprogrammer-screener id='screenerCanvas'></aq-editor-edit-nonprogrammer-screener>	    				

		            	<aq-editor-edit-nonprogrammer-indicator id='indicatorCanvas'></aq-editor-edit-nonprogrammer-indicator>	    				

	            		<aq-editor-edit-nonprogrammer-optimizer id='optimizerCanvas'></aq-editor-edit-nonprogrammer-optimizer>	    				

	            	    <paper-card id='runCanvas' heading='Step:4 Run Analysis'>
	            				
	            			<div class="self-center layout vertical">
		            			<paper-card class='run-content'>
			            			<div>
			            				<span>Universe</span>
			            			</div>
		            			</paper-card>

		            			<paper-card class='run-content'>
			            			<div>
			            				<span>Indicators</span>
			            			</div>
		            			</paper-card>

		            			<paper-card class='run-content'>
			            			<div>
			            				<span>Optimizer</span>
			            			</div>
		            			</paper-card>
            				</div>
	            			
	            		</paper-card>

		        	</iron-pages>
	        	</paper-header-panel>
	     
		        <template is='dom-if' if="{{isSelectedBarUniverse(selectedSideBar)}}">
		        <paper-header-panel drawer mode="seamed" id='rightpanel'>
		        	<paper-toolbar></paper-toolbar>
			        <iron-pages selected="{{selectedSideBar}}">
			          <aq-editor-edit-sidebar-universe></aq-editor-edit-sidebar-universe>
			          <!--div></div>
			          <div>This is Optimizer!!</div>
			          <aq-editor-sidebar-run></aq-editor-sidebar-run-->       
			        </iron-pages>
		        </paper-header-panel>
		        </template>

  		</paper-drawer-panel>
      	    		
	</template>

	<script>
		Polymer({
			is: 'aq-editor-edit-nonprogrammer',

			properties :{
				selectedSideBar: {
					type:Number,
					value:0,
				},
				showSideBar:{
					type:Boolean,
					value:true,
				},

				data: {
					type:Array,
					value:[
				{id: 0, title: 'Frozen yogurt', calories: 159, fat: 6, carbs: 24, protein: 4, sodium: 87, calcium:.14, iron: .01},
				{id: 1, title: 'Ice cream sandwich zzzz', calories: 237, fat: 9, carbs: 37, protein: 4.3, sodium: 129, calcium:.08, iron: .01},
				{id: 2, title: 'Eclair', calories: 262, fat: 16, carbs: 24, protein: 6, sodium: 337, calcium:.06, iron: .07},
				{id: 3, title: 'Cupcake', calories: 305, fat: 3.7, carbs: 67, protein: 4.3, sodium: 413, calcium:.03, iron: .08},
				{id: 4, title: 'Gingerbread', calories: 356, fat: 16, carbs: 49, protein: 3.9, sodium: 327, calcium:.07, iron: .16},
				{id: 5, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0},
				{id: 6, title: 'Jelly bean', calories: 373, fat: 0, carbs: 94, protein: 0, sodium: 50, calcium:0, iron: 0}],
				},
			},

			listeners: {
				'screener-pressed':'onAddScreener',
			},	
				
			toFixedOne(value){
				return value.toFixed(1);
			},
			
			toPercentage(value) {
				return Math.round(value * 10000)/100 + '%';
			},
	
		    toggleDrawer() {
		        this.$.drawerpanel.togglePanel();
		        //this.showSideBar = !this.showSideBar;
		    },

		    closeDrawer() {
		    	if(this.showSideBar) {
		    		this.toggleDrawer();
		    	}
		    },

		    onAddScreener() {
		    	this.$.screenerCanvas.addScreener();
		    },

		    isSelectedBarUniverse(selectedSideBar) {
		    	console.log(selectedSideBar);
		    	return selectedSideBar==0;
		    },

		    computeForceNarrow(showSideBar, selectedSideBar) {
		    	return !showSideBar || selectedSideBar!=0;
		    },

		});

	</script>
</dom-module>

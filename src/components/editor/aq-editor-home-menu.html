<link rel='import' href='../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html'>
<link rel="import" href="../../../bower_components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">

<link rel='import' href='../../icons/aq-iconset.html'>
<link rel='import' href='../common/aq-check-authentication.html'>
<link rel="import" href="../../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../common/aq-sub-toolbar.html">
<link rel="import" href="../common/aq-icon-expandable-search.html">

<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">

<dom-module id='aq-editor-home-menu'>
    <style include="iron-flex iron-flex-alignment iron-positioning">
    </style>

    <style>
        #menu-container {
            margin-left: 15px;
            margin-bottom: 0px;
            height: 40px;
            background-color: white;
        }

        .checkbox-all {
            --paper-checkbox-checked-color: #cc6666;
            margin-right: 15px;
        } 

        paper-button {
            width:150px;
            height:22px;
            text-transform: none;
            --paper-button:{
                color: #cc6666;
                font-size: 14px;
                border: 1px solid #cc6666;
            };
        }

        paper-button[disabled] {
            border: 1px solid #e1e1e1;
            color: #e1e1e1;
            background-color: white;
        }

        iron-icon {
            width: 17px;
            height: 17px;
        }

        aq-icon-expandable-search {
            --height: 32px;
            width: 50%;
        }

        .strategy-header {
            font-size: 18px;
        }

    </style>

    <template>
        <aq-check-authentication id='authItem'></aq-check-authentication>
        
        <!--aq-sub-toolbar-->
        <div id="menu-container" class="layout horizontal">    
            <paper-checkbox noink class="checkbox-all self-center" checked="{{checkAll}}"
                            on-change='onCheckAllStrategies'></paper-checkbox>
            <p class="strategy-header self-center">All Strategies</p>
            
            <div class="flex"></div>

            <!--aq-icon-expandable-search class="self-center"></aq-icon-expandable-search-->

            <paper-button id='deleteIcon' noink class="iconButton self-center" on-tap="onDelete" disabled="[[!activeDelete]]"><iron-icon icon="aq-icons:delete"></iron-icon> Delete Selected
            </paper-button>

            <!--div id='menu-icons'>
                <paper-icon-button id='newIcon' noink class="iconButton" icon="aq-icons:add" on-tap="createNew">
                </paper-icon-button>
            </div-->
            
            <!--paper-tooltip for='newIcon' offset="2" class='iconTooltip' position="bottom" animation-delay="0" fit-to-visible-bounds>New</paper-tooltip>

            <paper-tooltip for='deleteIcon' offset="2" class='iconTooltip' position="bottom" animation-delay="0" fit-to-visible-bounds>Delete</paper-tooltip-->

        <!--/aq-sub-toolbar-->
        </div>
    </template>

    <script>
        Polymer({
            is: 'aq-editor-home-menu',

            properties: {
                activeDelete: {
                    type: Boolean,
                    value: false,
                },

                searchText: {
                    type: String,
                    value: "",
                },

                checkAll: {
                    type: Boolean,
                    value: false,
                    notify: true,
                }
            },
            
            toggle: function () {
                var d = this.$$('#search').style.display;
                if (d == 'block') {
                    this.$$('#search').style.display = 'none';
                    this.$$('#menu-icons').style.display = 'inline';
                } else {
                    if (!this.$.authItem.checkHasToken()) {
                        this.fire('rt-changed', {route: '/user/signin'});
                        return;
                    }

                    this.$$('#search').style.display = 'block';
                    this.$$('#searchbox').focus();
                    this.$$('#searchbox').value = "";
                    this.$$('#menu-icons').style.display = 'none';
                }
            },

            onDelete: function () {
                this.fire('deleteClicked');
            },

            onCompare: function () {
                this.fire('compareClicked');
            },

            onCheckAllStrategies: function () {
                this.checkAll = this.$$('paper-checkbox').checked;
                this.fire('iron-signal', {name: 'select-strategy', data: {checked: this.$$('paper-checkbox').checked}});
            },
            focusInputBox: function () {
                this.$$('#searchbox').focus();
            }

        });

    </script>
</dom-module>

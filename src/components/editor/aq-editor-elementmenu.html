
<link rel='import' href='../../../bower_components/iron-icon/iron-icon.html'>
<link rel='import' href='../../../bower_components/iron-icons/iron-icons.html'>
<link rel='import' href='../../../bower_components/iron-icons/social-icons.html'>
<link rel='import' href='../../../bower_components/vaadin-icons/vaadin-icons.html'>

<dom-module id="aq-editor-elementmenu">
  <template>
    <style>
      :host {
        @apply(--layout);
        @apply(--layout-center);
        @apply(--layout-center-justified);
        position: absolute;
        text-align: center;
        padding-top: 15px;
        margin-right: 5px;
        opacity: 1;
        transition: opacity 0.2s;
        -webkit-transition: opacity 0.2s;
      }

      :host(.cards) {
        background-color: rgba(255, 255, 255, 0.9);
        margin-right: 0px;
      }

      :host(.hidden) {
        pointer-events: none;
        opacity: 0;
      }

      a, iron-icon {
        font-size: 12px;
        color: #666;
        outline: none;
      }

      a {
        margin: 0 5px;
        cursor: pointer;
      }

      span {
        width: 40px;
        display: block;
      }

      a:hover,
      a:hover iron-icon {
        color: black;
      }

      iron-icon {
        --iron-icon-width: 18px;
        --iron-icon-height: 18px;
      }

    </style>

    <div class="layout horizontal">
      
      <a tabindex="0" role="button" on-tap="goToPreview">
        <iron-icon icon="icons:visibility" title="Preview"></iron-icon>
        <!--span hidden$="[[iconsOnly]]">Analyze</span--> 
      </a>

      <a tabindex="0" role="button" on-tap="goToAnalyze">
        <iron-icon icon="vaadin-icons:chart" title="Analyze"></iron-icon>
        <!--span hidden$="[[iconsOnly]]">Analyze</span--> 
      </a>

      <a tabindex="0" role="button" on-click="cloneStrategy" aria-label="Clone Strategy">
        <iron-icon icon="icons:content-copy" title="Clone Strategy"></iron-icon>
        <!--span hidden$="[[iconsOnly]]">Clone</span-->
      </a>

      <a tabindex="0" role="button" on-click="shareStrategy" aria-label="Share Strategy">
        <iron-icon icon="social:share" title="Share Strategy"></iron-icon>
        <!--span hidden$="[[iconsOnly]]">Share</span-->
      </a>
    </div>

  </template>

  <script>
    Polymer ({
      is: 'aq-editor-elementmenu',
      
      properties: {
        element: String,
        
        _element: Object,
        
        iconsOnly: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        }
        
      },
      
      githubLink: function (source) {
        return 'https://github.com/' + source;
      },

      cartAdd: function (e) {
        e.stopPropagation();
        e.preventDefault();
        this.$.cartItemIcon.toggle();
      },
      
      navToDocs: function (e) {
        e.stopPropagation();
        e.preventDefault();
        this.fire('nav', { url: '/elements/' + this.element + '?view=docs' });
      },

      navToDemo: function (e) {
        e.stopPropagation();
        e.preventDefault();
        if (e.currentTarget.hasAttribute('disabled'))
          return false;
        this.fire('nav', { url: '/elements/' + this.element + '?active=' + this._element.active + '&view=demo:' + this._element.demo.path });
      },

      goToPreview() {
        this.fire('previewClicked');
      },

    });
  </script>

</dom-module>

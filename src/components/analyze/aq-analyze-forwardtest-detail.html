
<link rel='import' href='../../../bower_components/paper-icon-button/paper-icon-button.html'>
<link rel='import' href='../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html'>

<link rel='import' href='../../icons/aq-iconset.html'>
<link rel="import" href="../common/backtest/aq-forwardtest-detail-item.html">
<link rel="import" href="../common/aq-check-authentication.html">
<link rel="import" href="../common/aq-loading-progress.html">
<link rel="import" href="../common/aq-allpage-layout.html">

<dom-module id="aq-analyze-forwardtest-detail">
    
    <style  include="iron-flex iron-flex-alignment iron-positioning">
    </style>

    <style>
        #forwardtest-container {
            margin-left: 2%;
            margin-right: 2%;
        }
    </style>

    <template>
        <aq-check-authentication id='authItem'></aq-check-authentication>
    
            <aq-loading-progress loading='{{loading}}'></aq-loading-progress>
            
            <template is='dom-if' if='{{!loading}}'>
                <aq-allpage-layout header="Forward Test Detail" current-path=[[currentPath]]>
                    <div class="internal-content" id="forwardtest-container">
                        <aq-forwardtest-detail-item loading="{{loading}}" forwardtest-id="[[forwardtestId]]"></aq-forwardtest-detail-item>
                    </div>
                </aq-allpage-layout>
            </template>
    </template>

    <script>
        Polymer ({
            is:'aq-analyze-forwardtest-detail',
            
            properties:{
                strategyId:String,
                forwardtestId:String,

                loading:{
                    type:Boolean,
                    value:false,
                },

                currentPath: {
                    type: Array,
                    value: ["Home", "Research", "All Strategies","Forward Test Detail"]
                }
            },

            goBackAllBacktests: function() {
                this.fire('unsubscribe-data',{backtestId:this.backtestId});
                this.fire('rt-changed',{route:'/dashboard/analyze/' + this.strategyId});
            },

            attached: function() {
                if(!this.$.authItem.checkHasToken()) {
                    this.fire('rt-changed',{route:'/user/signin'});
                    return;
                } 
            },

        });
            
    </script>
            
</dom-module>



<link rel='import' href='../../bower_components/iron-flex-layout/iron-flex-layout-classes.html'>
<link rel='import' href='../../bower_components/app-route/app-route.html'>

<link rel="import" href="../components/analyze/aq-analyze-home.html">
<link rel="import" href="../components/analyze/aq-analyze-compare.html">
<link rel="import" href="../components/analyze/aq-analyze-compare-results.html">

<link rel="import" href="../components/analyze/aq-analyze-detail.html">

<dom-module id="aq-analyze-main">
  <style  include="iron-flex iron-flex-alignment iron-positioning">
  </style>
   <style>
    #panel {
      height:100%;
    }
  </style>
  <template>

    <app-location route="{{route}}"></app-location>
    <app-route
        route="{{route}}"
        pattern="/dashboard/analyze/"
        active="{{active}}">
    </app-route>

    <!--template is='dom-if' if='{{active}}'-->
        <aq-analyze-home></aq-analyze-home>
        <aq-analyze-detail></aq-analyze-detail>   
    <!--/template-->

  </template>

  <script>
    Polymer ({
      is: 'aq-analyze-main', 

      properties : {
        hasViews: {
          type: Boolean,
          value: true,  
        },

        narrow:{
          type:Boolean,
        },

        showmenu:{
          type:Boolean,
          value:false,
        },

        active: Boolean,
      },

      hasTail: function(tail) {
        console.log("checking tail");
        console.log(tail);
        if (tail && tail.path) {
          return tail.path.length > 0;
        }

        return false;
      },

      isAnalyzeHomeActive: function(active, tail) {
        return active && !this.hasTail(tail);
      },

    });
  </script>

</dom-module>
